{
    "settings": "readonlyrest:\n  prompt_for_basic_auth: false\n  audit:\n    enabled: true\n    outputs:\n      - type: index\n        index_template: \"'roraudit.reporting'-yyyy-MM\"\n  access_control_rules:\n    - name: \"::Tweets1::\"\n      methods: [GET, POST]\n      indices: [\"twitter\", \".kibana\"]\n      proxy_auth:\n        proxy_auth_config: \"proxy1\"\n        users: [\"kibana\"]\n      groups_provider_authorization:\n        user_groups_provider: \"ACME2 External Authentication Service\"\n        groups: [\"group3\"]\n\n    - name: \"::Facebook2 posts::\"\n      methods: [GET, POST]\n      indices: [\"facebook\", \".kibana\"]\n      proxy_auth:\n        proxy_auth_config: \"proxy1\"\n        users: [\"kibana\"]\n      groups_provider_authorization:\n        user_groups_provider: \"ACME2 External Authentication Service\"\n        groups: [\"group1\"]\n        cache_ttl_in_sec: 60\n\n    - name: \"::Tweets::\"\n      methods: [GET, POST]\n      indices: [\"twitter\", \".kibana\"]\n      external_authentication: \"ACME1 External Authorization Service\"\n\n    - name: Accept requests to index2 from users with valid LDAP credentials, belonging to LDAP group 'team2'\n      ldap_authentication: LDAP 1\n      ldap_authorization:\n        name: \"LDAP 1\"\n        groups: [\"group3\"]\n\n      \n  - name: \"Kibana service account\"\n    verbosity: error\n    token_authentication:\n      token: \"Bearer ${KIBANA_SERVICE_ACCOUNT_TOKEN}\" \n      username: service_account\n  \n  - name: \"PROBE\"\n    verbosity: error\n    auth_key: \"elastic-internal-probe:${INTERNAL_PROBE_PASS}\"\n\n  - name: \"ELASTIC-INTERNAL\"\n    verbosity: error\n    auth_key: \"elastic-internal:${INTERNAL_USR_PASS}\"\n  \n  - name: KIBANA_SERVER\n    verbosity: error\n    auth_key: kibana:kibana\n\n  - name: PERSONAL_GRP\n      groups: [ personal_group ]\n      kibana_access: rw\n      kibana_hide_apps: [ \"Enterprise Search|Overview\", \"Observability\" ]\n      kibana_index: '.kibana_@{user}'\n\n    - name: ADMIN_GRP\n      groups: [ admins_group ]\n      kibana_access: admin\n      kibana_hide_apps: [ \"Security\", \"Enterprise Search|Overview\", \"Observability\" ]\n      kibana_index: '.kibana_admins'\n\n    #  - name: Infosec4search\n    #    groups: [ infosec_group ]\n    #    indices: [\"readonlyrest_audit*\"]\n    #    #filter: '{\"bool\": { \"must_not\": { \"match\": { \"type\": \"xxxx\" }}}}'\n    #    kibana_index: .kibana_infosec\n    #    verbosity: error\n\n    - name: INFOSEC_GRP\n      groups: [ infosec_group ]\n      kibana_access: rw\n      kibana_hide_apps: [ \"Enterprise Search|Overview\", \"Observability\", \"Management\" ]\n      kibana_index: .kibana_infosec\n\n    - name: Template Tenancy\n      groups: [ template_group ]\n      kibana_access: admin\n      kibana_index: \".kibana_template\"\n\n    - name: \"ReadonlyREST Enterprise instance #1\"\n      kibana_index: \".kibana_external_auth\"\n      ror_kbn_auth:\n        name: \"kbn1\"\n\n  # USERS TO GROUPS ############\n  users:\n    - username: admin\n      auth_key: admin:dev\n      groups:\n        - id: admins_group\n          name: Administrators\n        - id: infosec_group\n          name: Infosec\n        - id: Template\n          name: Template\n\n    - username: user1\n      auth_key: user1:dev\n      groups:\n        - id: admins_group\n          name: Administrators\n        - id: personal_group\n          name: Personal\n        - id: infosec_group\n          name: Infosec\n\n    - username: new_user\n      auth_key: new_user:dev\n      groups:\n        - id: admins_group\n          name: Administrators\n        - id: personal_group\n          name: Personal\n        - id: infosec_group\n          name: Infosec\n\n    - username: 'wildcard_user#*'\n      groups:\n        - g1: group1\n      ldap_auth:\n        name: \"LDAP 1\"\n        groups: [\"group1\"]\n  ror_kbn:\n    - name: kbn1\n      signature_key: \"9yzBfnLaTYLfGPzyKW9es76RKYhUVgmuv6ZtehaScj5msGpBpa5FWpwk295uJYaaffTFnQC5tsknh2AguVDaTrqCLfM5zCTqdE4UGNL73h28Bg4dPrvTAFQyygQqv4xfgnevBED6VZYdfjXAQLc8J8ywaHQQSmprZqYCWGE6sM3vzNUEWWB3kmGrEKa4sGbXhmXZCvL6NDnEJhXPDJAzu9BMQxn8CzVLqrx6BxDgPYF8gZCxtyxMckXwCaYXrxAGbjkYH69F4wYhuAdHSWgRAQCuWwYmWCA6g39j4VPge5pv962XYvxwJpvn23Y5KvNZ5S5c6crdG4f4gTCXnU36x92fKMQzsQV9K4phcuNvMWkpqVB6xMA5aPzUeHcGytD93dG8D52P5BxsgaJJE6QqDrk3Y2vyLw9ZEbJhPRJxbuBKVCBtVx26Ldd46dq5eyyzmNEyQGLrjQ4qd978VtG8TNT5rkn4ETJQEju5HfCBbjm3urGLFVqxhGVawecT4YM9Rry4EqXWkRJGTFQWQRnweUFbKNbVTC9NxcXEp6K5rSPEy9trb5UYLYhhMJ9fWSBMuenGRjNSJxeurMRCaxPpNppBLFnp8qW5ezfHgCBpEjkSNNzP4uXMZFAXmdUfJ8XQdPTWuYfdHYc5TZWnzrdq9wcfFQRDpDB2zX5Myu96krDt9vA7wNKfYwkSczA6qUQV66jA8nV4Cs38cDAKVBXnxz22ddAVrPv8ajpu7hgBtULMURjvLt94Nc5FDKw79CTTQxffWEj9BJCDCpQnTufmT8xenywwVJvtj49yv2MP2mGECrVDRmcGUAYBKR8G6ZnFAYDVC9UhY46FGWDcyVX3HKwgtHeb45Ww7dsW8JdMnZYctaEU585GZmqTJp2LcAWRcQPH25JewnPX8pjzVpJNcy7avfA2bcU86bfASvQBDUCrhjgRmK2ECR6vzPwTsYKRgFrDqb62FeMdrKgJ9vKs435T5ACN7MNtdRXHQ4fj5pNpUMDW26Wd7tt9bkBTqEGf\"\n\n  impersonation:\n    - impersonator: admin\n      users: [\"*\"]\n      auth_key: admin:dev\n  ldaps:\n\n    - name: LDAP 1\n      host: \"ldap1.example.com\"\n      port: 389\n      ssl_enabled: false\n      ssl_trust_all_certs: true\n      ignore_ldap_connectivity_problems: true\n      bind_dn: \"cn=admin,dc=example,dc=com\"\n      bind_password: \"password\"\n      search_user_base_DN: \"ou=People,dc=example,dc=com\"\n      user_id_attribute: \"uid\"\n      search_groups_base_DN: \"ou=Groups,dc=example,dc=com\"\n      unique_member_attribute: \"uniqueMember\"\n      connection_pool_size: 10\n      connection_timeout: 10s\n      request_timeout: 10s\n      cache_ttl: 60s\n      group_search_filter: \"(objectClass=group)(cn=application*)\"\n      group_name_attribute: \"cn\"\n      circuit_breaker:\n        max_retries: 2\n        reset_duration: 5s\n  external_authentication_service_configs:\n    - name: \"ACME1 External Authorization Service\"\n      authentication_endpoint: \"http://external-website1:8080/auth1\"\n      success_status_code: 200\n      cache_ttl_in_sec: 60\n      validate: false # SSL certificate validation (default to true)\n\n  proxy_auth_configs:\n\n    - name: \"proxy1\"\n      user_id_header: \"X-Auth-Token\"                           # default X-Forwarded-User\n\n  user_groups_providers:\n    - name: ACME2 External Authentication Service\n      groups_endpoint: \"http://localhost:8080/groups\"\n      auth_token_name: \"token\"\n      auth_token_passed_as: QUERY_PARAM                        # HEADER OR QUERY_PARAM\n      response_groups_json_path: \"$..groups[?(@.id)].id\"   # see: https://github.com/json-path/JsonPath\n      cache_ttl_in_sec: 60\n      http_connection_settings:\n        connection_timeout_in_sec: 5                           # default 2\n        socket_timeout_in_sec: 3                               # default 5\n        connection_request_timeout_in_sec: 3                   # default 5\n        connection_pool_size: 10                               # default 30\n",
    "ttl": "30 minutes"
}
